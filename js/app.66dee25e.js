(function(){"use strict";var o={820:function(o,a,t){var e=t(963),r=t(252);const n={id:"app",class:"container-fluid"},s={class:"navbar navbar-expand-lg navbar-light bg-light"},l={class:"container",id:"separacion"},i=(0,r._)("a",{class:"navbar-brand",href:"#"},"Animalitos",-1),c=(0,r._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarScroll","aria-controls":"navbarScroll","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse d-flex justify-content-between",id:"navbarScroll"},m={class:"navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll",style:{"--bs-scroll-height":"100px"}},d={class:"mx-3 nav-item"},p=(0,r.Uk)("Registro"),f={class:"mx-3 nav-item"},h=(0,r.Uk)("Login"),b={class:"mx-3 nav-item dropdown"},v=(0,r.Uk)("Mascotas"),g={class:"mx-3 nav-item"},_=(0,r.Uk)("Usuarios"),y={class:"mx-3 nav-item"},w=(0,r.Uk)("A√±ade tu mascota"),k=(0,r._)("form",{class:"d-flex"},[(0,r._)("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),(0,r._)("button",{class:"btn btn-outline-success",type:"submit"},"Search")],-1);function U(o,a){const t=(0,r.up)("router-link"),e=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",n,[(0,r._)("nav",s,[(0,r._)("div",l,[i,c,(0,r._)("div",u,[(0,r._)("ul",m,[(0,r._)("li",d,[(0,r.Wm)(t,{to:"/form-registro"},{default:(0,r.w5)((()=>[p])),_:1})]),(0,r._)("li",f,[(0,r.Wm)(t,{to:"/form-login"},{default:(0,r.w5)((()=>[h])),_:1})]),(0,r._)("li",b,[(0,r.Wm)(t,{to:"/form-mascotas"},{default:(0,r.w5)((()=>[v])),_:1})]),(0,r._)("li",g,[(0,r.Wm)(t,{to:"/form-usuarios"},{default:(0,r.w5)((()=>[_])),_:1})]),(0,r._)("li",y,[(0,r.Wm)(t,{to:"/form-a√±adir-mascotas"},{default:(0,r.w5)((()=>[w])),_:1})])]),k])])])]),(0,r.Wm)(e)],64)}var x=t(744);const C={},S=(0,x.Z)(C,[["render",U]]);var E=S,O=t(119),j=t.p+"img/aa.70ba2751.png";const D={class:"home"},A=(0,r._)("img",{alt:"Vue logo",src:j},null,-1);function T(o,a,t,e,n,s){const l=(0,r.up)("HelloWorld");return(0,r.wg)(),(0,r.iD)("div",D,[A,(0,r.Wm)(l,{msg:"Welcome to Your Vue.js App"})])}const F=o=>((0,r.dD)("data-v-7bdf721c"),o=o(),(0,r.Cn)(),o),I={class:"hello"},W=F((()=>(0,r._)("h1",null,"Bienvenido a tu primera app de Animalitos",-1))),M={id:"boton"},P=(0,r.Uk)("Registro"),N=(0,r.Uk)("Login");function H(o,a,t,e,n,s){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",I,[W,(0,r._)("div",M,[(0,r._)("button",null,[(0,r.Wm)(l,{to:"/form-registro"},{default:(0,r.w5)((()=>[P])),_:1})]),(0,r._)("button",null,[(0,r.Wm)(l,{to:"/form-login"},{default:(0,r.w5)((()=>[N])),_:1})])])])}var Z={name:"HelloWorld",props:{msg:String}};const V=(0,x.Z)(Z,[["render",H],["__scopeId","data-v-7bdf721c"]]);var $=V,B={name:"HomeView",components:{HelloWorld:$}};const L=(0,x.Z)(B,[["render",T]]);var z=L;const J=(0,r._)("h1",null,"Mascotas",-1);function R(o,a,t,e,n,s){const l=(0,r.up)("componente-mascotas");return(0,r.wg)(),(0,r.iD)("div",null,[J,(0,r.Wm)(l,{onEliminarMascota:s.borrarMascotasId,mascotas:n.mascotas},null,8,["onEliminarMascota","mascotas"])])}var Y=t(577);const q={id:"tabla-mascotas"},G={class:"table"},K=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{scope:"col"},"#"),(0,r._)("th",{scope:"col"},"First"),(0,r._)("th",{scope:"col"},"Last"),(0,r._)("th",{scope:"col"},"Handle")])],-1),Q=(0,r._)("th",{scope:"row"},"1",-1),X=(0,r._)("td",null,"@",-1),oo=["onClick"],ao=(0,r._)("tr",null,[(0,r._)("th",{scope:"row"},"2"),(0,r._)("td"),(0,r._)("td"),(0,r._)("td",null,"@")],-1),to=(0,r._)("tr",null,[(0,r._)("th",{scope:"row"},"3"),(0,r._)("td",{colspan:"2"}),(0,r._)("td")],-1);function eo(o,a,t,e,n,s){return(0,r.wg)(),(0,r.iD)("div",q,[(0,r._)("table",G,[K,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.mascotas,(a=>((0,r.wg)(),(0,r.iD)("tr",{key:a.id},[Q,(0,r._)("td",null,(0,Y.zw)(a.nombre),1),(0,r._)("td",null,(0,Y.zw)(a.descripcion),1),X,(0,r._)("td",null,[(0,r._)("button",{class:"btn btn-danger ml-2",onClick:t=>o.$emit("eliminar-mascota",a)},"üóëÔ∏è Borrar",8,oo)])])))),128)),ao,to])])])}var ro={name:"tabla-mascotas",methods:{enviarFormulario(){this.$emit("add-pet",this.mascotas)}},props:{mascotas:Array}};const no=(0,x.Z)(ro,[["render",eo]]);var so=no,lo={name:"VistaMascotas",components:{ComponenteMascotas:so},data(){return{mascotas:[],mascota:{nombre:"",descripcion:"",foto:""},vls:""}},methods:{async leerMascotas(){try{const o=await fetch("http://localhost:8000/api/mascotas",{});this.mascotas=await o.json()}catch(o){console.error(o)}},async borrarMascotasId(o){try{await fetch(`http://localhost:8000/api/mascotas/${o._id}`,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:`Bearer ${this.vls}`}}),console.log(o._id),this.mascotas=this.mascotas.filter((a=>a._id!==o._id))}catch(a){console.log(a)}}},mounted(){console.log("montado"),this.leerMascotas()}};const io=(0,x.Z)(lo,[["render",R]]);var co=io;const uo=(0,r._)("h1",null,"Usuarios",-1);function mo(o,a,t,e,n,s){const l=(0,r.up)("componente-usuarios");return(0,r.wg)(),(0,r.iD)("div",null,[uo,(0,r.Wm)(l,{usuarios:n.usuarios,onEliminarUsuario:s.borrarUsuario},null,8,["usuarios","onEliminarUsuario"])])}const po={id:"tabla-usuarios"},fo={class:"table"},ho=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{scope:"col"},"#"),(0,r._)("th",{scope:"col"},"Nombre"),(0,r._)("th",{scope:"col"},"User"),(0,r._)("th",{scope:"col"},"Roles")])],-1),bo=(0,r._)("th",{scope:"row"},null,-1),vo=["onClick"];function go(o,a,t,e,n,s){return(0,r.wg)(),(0,r.iD)("div",po,[(0,r._)("table",fo,[ho,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.usuarios,(a=>((0,r.wg)(),(0,r.iD)("tr",{key:a.id},[bo,(0,r._)("td",null,(0,Y.zw)(a.nombre),1),(0,r._)("td",null,(0,Y.zw)(a.user),1),(0,r._)("td",null,(0,Y.zw)(a.roles),1),(0,r._)("td",null,[(0,r._)("button",{class:"btn btn-danger ml-2",onClick:t=>o.$emit("eliminar-usuario",a)},"üóëÔ∏è Borrar",8,vo)])])))),128))])])])}var _o={name:"tabla-usuarios",props:{usuarios:Array}};const yo=(0,x.Z)(_o,[["render",go]]);var wo=yo,ko={name:"VistaUsuarios",components:{ComponenteUsuarios:wo},data(){return{usuarios:[],usuario:{nombre:"",user:"",roles:""},vls:""}},methods:{async leerUsuarios(){try{this.vls=JSON.parse(localStorage.getItem("token")),console.log(this.vls);const o=await fetch("http://localhost:8000/api/usuarios",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:`Bearer ${this.vls}`}});this.usuarios=await o.json(),console.log(this.usuario.roles)}catch(o){console.error(o)}},async borrarUsuario(o){try{await fetch(`http://localhost:8000/api/usuarios/${o._id}`,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:`Bearer ${this.vls}`}}),console.log(o._id),this.usuarios=this.usuarios.filter((a=>a._id!==o._id))}catch(a){console.log(a)}}},mounted(){console.log("todo ok"),this.leerUsuarios()}};const Uo=(0,x.Z)(ko,[["render",mo]]);var xo=Uo;const Co=(0,r._)("h1",null,"Login",-1),So=(0,r._)("h3",null,"Introduce tus datos",-1);function Eo(o,a,t,e,n,s){const l=(0,r.up)("componente-login");return(0,r.wg)(),(0,r.iD)("div",null,[Co,So,(0,r.Wm)(l,{onCheckUser:s.compruebaUsuario},null,8,["onCheckUser"])])}const Oo={id:"tabla-login"},jo={class:"mb-3"},Do=(0,r._)("label",{for:"exampleInputEmail1",class:"form-label"},"Email",-1),Ao=(0,r._)("div",{id:"emailHelp",class:"form-text"},"We'll never share your email with anyone else.",-1),To={class:"mb-3"},Fo=(0,r._)("label",{for:"exampleInputPassword1",class:"form-label"},"Contrase√±a",-1),Io=(0,r._)("div",{class:"mb-3 form-check"},[(0,r._)("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1"}),(0,r._)("label",{class:"form-check-label",for:"exampleCheck1"},"Adelante!")],-1);function Wo(o,a,t,n,s,l){return(0,r.wg)(),(0,r.iD)("div",Oo,[(0,r._)("form",{onSubmit:a[3]||(a[3]=(0,e.iM)(((...o)=>l.enviarFormulario&&l.enviarFormulario(...o)),["prevent"]))},[(0,r._)("div",jo,[Do,(0,r.wy)((0,r._)("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=o=>s.usuario.user=o),class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"},null,512),[[e.nr,s.usuario.user]]),Ao]),(0,r._)("div",To,[Fo,(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=o=>s.usuario.pass=o),class:"form-control",id:"exampleInputPassword1"},null,512),[[e.nr,s.usuario.pass]])]),Io,(0,r._)("button",{onClick:a[2]||(a[2]=(...a)=>o.compruebaUsuario&&o.compruebaUsuario(...a)),type:"submit",class:"btn btn-primary"}," Entra ")],32)])}var Mo={name:"tabla-login",data(){return{usuario:{user:"admin@gmail.com",pass:"admin"}}},methods:{enviarFormulario(){this.$emit("check-user",this.usuario)}}};const Po=(0,x.Z)(Mo,[["render",Wo]]);var No=Po,Ho={components:{ComponenteLogin:No},methods:{async compruebaUsuario(o){try{console.log("hola");const a=await fetch("http://localhost:8000/api/login",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),t=await a.json();console.log(t),localStorage.setItem("token",JSON.stringify(t.token)),console.log(JSON.parse(localStorage.getItem("token"))),console.log(localStorage),console.log(localStorage),alert("Te has logeado correctamente. Bienvenido "+t.user)}catch(a){console.error(a)}}}};const Zo=(0,x.Z)(Ho,[["render",Eo]]);var Vo=Zo;const $o=(0,r._)("h1",null,"Registro",-1);function Bo(o,a,t,e,n,s){const l=(0,r.up)("componente-registro");return(0,r.wg)(),(0,r.iD)("div",null,[$o,(0,r.Wm)(l,{onAddRegistro:s.crearUsuario,registro:o.registro},null,8,["onAddRegistro","registro"])])}const Lo={id:"formulario-registro"},zo=(0,r._)("h3",null,"Introduce tus datos",-1),Jo={class:"mb-3"},Ro=(0,r._)("label",{for:"exampleInputEmail1",class:"form-label"},"Nombre",-1),Yo={class:"mb-3"},qo=(0,r._)("label",{for:"exampleInputEmail1",class:"form-label"},"Email",-1),Go={class:"mb-3"},Ko=(0,r._)("label",{for:"exampleInputPassword1",class:"form-label"},"Contrase√±a",-1),Qo=(0,r._)("div",{id:"emailHelp",class:"form-text"},"No desveles jamas tu contrase√±a a nadie",-1),Xo=(0,r._)("div",{class:"mb-3 form-check"},[(0,r._)("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1"}),(0,r._)("label",{class:"form-check-label",for:"exampleCheck1"},"Adelante!")],-1),oa=(0,r._)("button",{type:"submit",class:"btn btn-primary"},"Entra",-1);function aa(o,a,t,n,s,l){return(0,r.wg)(),(0,r.iD)("div",Lo,[zo,(0,r._)("form",{onSubmit:a[3]||(a[3]=(0,e.iM)(((...o)=>l.enviarFormulario&&l.enviarFormulario(...o)),["prevent"]))},[(0,r._)("div",Jo,[Ro,(0,r.wy)((0,r._)("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=o=>s.registro.nombre=o),class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"},null,512),[[e.nr,s.registro.nombre]])]),(0,r._)("div",Yo,[qo,(0,r.wy)((0,r._)("input",{type:"email","onUpdate:modelValue":a[1]||(a[1]=o=>s.registro.user=o),class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"},null,512),[[e.nr,s.registro.user]])]),(0,r._)("div",Go,[Ko,(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=o=>s.registro.pass=o),class:"form-control",id:"exampleInputPassword1"},null,512),[[e.nr,s.registro.pass]]),Qo]),Xo,oa],32)])}var ta={name:"formulario-registro",data(){return{registro:{nombre:"",user:"",pass:""}}},methods:{enviarFormulario(){this.$emit("add-registro",this.registro)}}};const ea=(0,x.Z)(ta,[["render",aa]]);var ra=ea,na={components:{ComponenteRegistro:ra},methods:{async crearUsuario(o){try{console.log(o);const a=await fetch("http://localhost:8000/api/registro",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),t=await a.json();console.log(t)}catch(a){console.error(a)}}}};const sa=(0,x.Z)(na,[["render",Bo]]);var la=sa;const ia=(0,r._)("h1",null,"Bienvenido a a√±adir mascota!",-1),ca=(0,r._)("h4",null,"Desde aqu√≠ podr√°s a√±adir a tu mascota a la aplicaci√≥n",-1);function ua(o,a,t,e,n,s){const l=(0,r.up)("formulario-mascota");return(0,r.wg)(),(0,r.iD)("div",null,[ia,ca,(0,r.Wm)(l,{onAddPet:s.postMascota},null,8,["onAddPet"])])}const ma=o=>((0,r.dD)("data-v-c61d6c3e"),o=o(),(0,r.Cn)(),o),da={id:"formulario-mascota"},pa={class:"container"},fa={class:"row"},ha={class:"col-md-4"},ba={class:"form-group"},va=ma((()=>(0,r._)("label",null,[(0,r._)("b",null,"Nombre")],-1))),ga={class:"col-md-4"},_a={class:"form-group"},ya=ma((()=>(0,r._)("label",null,[(0,r._)("b",null,"Descripci√≥n")],-1))),wa=(0,r.uE)('<div class="row" data-v-c61d6c3e><div class="col-md-4" data-v-c61d6c3e><div class="form-group" data-v-c61d6c3e><button class="btn btn-success" data-v-c61d6c3e>A√±ade tu mascota </button></div><div class="foto" data-v-c61d6c3e><img src="" alt="" data-v-c61d6c3e></div></div></div>',1);function ka(o,a,t,n,s,l){return(0,r.wg)(),(0,r.iD)("div",da,[(0,r._)("form",{onSubmit:a[2]||(a[2]=(0,e.iM)(((...o)=>l.enviarFormulario&&l.enviarFormulario(...o)),["prevent"]))},[(0,r._)("div",pa,[(0,r._)("div",fa,[(0,r._)("div",ha,[(0,r._)("div",ba,[va,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>s.mascotas.nombre=o),type:"text",class:"form-control"},null,512),[[e.nr,s.mascotas.nombre]])])]),(0,r._)("div",ga,[(0,r._)("div",_a,[ya,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>s.mascotas.descripcion=o),type:"text",class:"form-control"},null,512),[[e.nr,s.mascotas.descripcion]])])])]),wa])],32)])}var Ua={name:"formulario-mascota",data(){return{mascotas:{nombre:"GATOLOCO",descripcion:"gatito blanco",foto:""}}},methods:{enviarFormulario(){this.$emit("add-pet",this.mascotas)}}};const xa=(0,x.Z)(Ua,[["render",ka],["__scopeId","data-v-c61d6c3e"]]);var Ca=xa;const Sa=JSON.parse(localStorage.getItem("token"));var Ea={components:{FormularioMascota:Ca},methods:{async postMascota(o){try{const a=await fetch("http://localhost:8000/api/mascotas",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:`Bearer ${Sa}`}}),t=await a.json();console.log(t)}catch(a){console.error(a)}}}};const Oa=(0,x.Z)(Ea,[["render",ua]]);var ja=Oa;const Da=[{path:"/",name:"home",component:z},{path:"/form-a√±adir-mascotas",name:"form-a√±adir-mascotas",component:ja},{path:"/form-mascotas",name:"form-mascotas",component:co},{path:"/form-usuarios",name:"form-usuarios",component:xo},{path:"/form-login",name:"form-login",component:Vo},{path:"/form-registro",name:"form-registro",component:la},{path:"/about",name:"about",component:()=>t.e(443).then(t.bind(t,381))}],Aa=(0,O.p7)({history:(0,O.r5)(),routes:Da});var Ta=Aa;(0,e.ri)(E).use(Ta).mount("#app")}},a={};function t(e){var r=a[e];if(void 0!==r)return r.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,t),n.exports}t.m=o,function(){var o=[];t.O=function(a,e,r,n){if(!e){var s=1/0;for(u=0;u<o.length;u++){e=o[u][0],r=o[u][1],n=o[u][2];for(var l=!0,i=0;i<e.length;i++)(!1&n||s>=n)&&Object.keys(t.O).every((function(o){return t.O[o](e[i])}))?e.splice(i--,1):(l=!1,n<s&&(s=n));if(l){o.splice(u--,1);var c=r();void 0!==c&&(a=c)}}return a}n=n||0;for(var u=o.length;u>0&&o[u-1][2]>n;u--)o[u]=o[u-1];o[u]=[e,r,n]}}(),function(){t.d=function(o,a){for(var e in a)t.o(a,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:a[e]})}}(),function(){t.f={},t.e=function(o){return Promise.all(Object.keys(t.f).reduce((function(a,e){return t.f[e](o,a),a}),[]))}}(),function(){t.u=function(o){return"js/about.eb8ef420.js"}}(),function(){t.miniCssF=function(o){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){t.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),function(){var o={},a="proyecto-para-examen:";t.l=function(e,r,n,s){if(o[e])o[e].push(r);else{var l,i;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var m=c[u];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==a+n){l=m;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,t.nc&&l.setAttribute("nonce",t.nc),l.setAttribute("data-webpack",a+n),l.src=e),o[e]=[r];var d=function(a,t){l.onerror=l.onload=null,clearTimeout(p);var r=o[e];if(delete o[e],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((function(o){return o(t)})),a)return a(t)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),i&&document.head.appendChild(l)}}}(),function(){t.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){t.p="/examen-vue/"}(),function(){var o={143:0};t.f.j=function(a,e){var r=t.o(o,a)?o[a]:void 0;if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(t,e){r=o[a]=[t,e]}));e.push(r[2]=n);var s=t.p+t.u(a),l=new Error,i=function(e){if(t.o(o,a)&&(r=o[a],0!==r&&(o[a]=void 0),r)){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+a+" failed.\n("+n+": "+s+")",l.name="ChunkLoadError",l.type=n,l.request=s,r[1](l)}};t.l(s,i,"chunk-"+a,a)}},t.O.j=function(a){return 0===o[a]};var a=function(a,e){var r,n,s=e[0],l=e[1],i=e[2],c=0;if(s.some((function(a){return 0!==o[a]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(i)var u=i(t)}for(a&&a(e);c<s.length;c++)n=s[c],t.o(o,n)&&o[n]&&o[n][0](),o[n]=0;return t.O(u)},e=self["webpackChunkproyecto_para_examen"]=self["webpackChunkproyecto_para_examen"]||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))}();var e=t.O(void 0,[998],(function(){return t(820)}));e=t.O(e)})();
//# sourceMappingURL=app.66dee25e.js.map